<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<ScrollPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="com.mstrust.client.teacher.controller.wizard.Step5ReviewController"
            stylesheets="@../../css/teacher-styles.css"
            fitToWidth="true"
            hbarPolicy="NEVER">
    
    <VBox styleClass="wizard-step" spacing="25" alignment="TOP_CENTER">
        <padding>
            <Insets top="30" right="40" bottom="30" left="40"/>
        </padding>
        
        <!-- Header -->
        <Label text="Bước 5: Xem trước và Tạo đề thi" styleClass="wizard-step-title"/>
        <Separator/>
        
        <Label text="Kiểm tra lại thông tin trước khi tạo đề thi" 
               styleClass="form-note" 
               wrapText="true"/>
        
        <!-- Section 1: Basic Info -->
        <VBox spacing="10" styleClass="review-section" maxWidth="700">
            <Label text="1.Thông tin cơ bản" styleClass="section-title"/>
            <Separator/>
            
            <GridPane hgap="15" vgap="10">
                <Label text="Tiêu đề:" styleClass="review-label" 
                       GridPane.columnIndex="0" GridPane.rowIndex="0"/>
                <Label fx:id="titleLabel" styleClass="review-value" wrapText="true"
                       GridPane.columnIndex="1" GridPane.rowIndex="0"/>
                
                <Label text="Mô tả:" styleClass="review-label" 
                       GridPane.columnIndex="0" GridPane.rowIndex="1" GridPane.valignment="TOP">
                    <padding><Insets top="5"/></padding>
                </Label>
                <Label fx:id="descriptionLabel" styleClass="review-value" wrapText="true"
                       GridPane.columnIndex="1" GridPane.rowIndex="1"/>
                
                <Label text="Môn học:" styleClass="review-label" 
                       GridPane.columnIndex="0" GridPane.rowIndex="2"/>
                <Label fx:id="subjectClassLabel" styleClass="review-value"
                       GridPane.columnIndex="1" GridPane.rowIndex="2"/>
                
                <Label text="Mục đích:" styleClass="review-label" 
                       GridPane.columnIndex="0" GridPane.rowIndex="3"/>
                <Label fx:id="purposeLabel" styleClass="review-value"
                       GridPane.columnIndex="1" GridPane.rowIndex="3"/>
                
                <Label text="Định dạng:" styleClass="review-label" 
                       GridPane.columnIndex="0" GridPane.rowIndex="4"/>
                <Label fx:id="formatLabel" styleClass="review-value"
                       GridPane.columnIndex="1" GridPane.rowIndex="4"/>
            </GridPane>
        </VBox>
        
        <!-- Section 2: Questions -->
        <VBox spacing="10" styleClass="review-section" maxWidth="700">
            <Label text="2.Câu hỏi" styleClass="section-title"/>
            <Separator/>
            
            <HBox spacing="20">
                <Label text="Số câu hỏi:" styleClass="review-label"/>
                <Label fx:id="questionCountLabel" styleClass="review-value-highlight"/>
                
                <Label text="Tổng điểm:" styleClass="review-label"/>
                <Label fx:id="totalPointsLabel" styleClass="review-value-highlight"/>
            </HBox>
            
            <Label text="Danh sách câu hỏi:" styleClass="review-label"/>
            <TextArea fx:id="questionsListArea" 
                      editable="false" 
                      wrapText="true" 
                      prefRowCount="6"
                      styleClass="review-textarea"/>
        </VBox>
        
        <!-- Section 3: Schedule -->
        <VBox spacing="10" styleClass="review-section" maxWidth="700">
            <Label text="3.Thời gian" styleClass="section-title"/>
            <Separator/>
            
            <GridPane hgap="15" vgap="10">
                <Label text="Thời gian bắt đầu:" styleClass="review-label" 
                       GridPane.columnIndex="0" GridPane.rowIndex="0"/>
                <Label fx:id="startTimeLabel" styleClass="review-value"
                       GridPane.columnIndex="1" GridPane.rowIndex="0"/>
                
                <Label text="Thời gian kết thúc:" styleClass="review-label" 
                       GridPane.columnIndex="0" GridPane.rowIndex="1"/>
                <Label fx:id="endTimeLabel" styleClass="review-value"
                       GridPane.columnIndex="1" GridPane.rowIndex="1"/>
                
                <Label text="Thời lượng:" styleClass="review-label" 
                       GridPane.columnIndex="0" GridPane.rowIndex="2"/>
                <Label fx:id="durationLabel" styleClass="review-value"
                       GridPane.columnIndex="1" GridPane.rowIndex="2"/>
            </GridPane>
        </VBox>
        
        <!-- Section 4: Settings -->
        <VBox spacing="10" styleClass="review-section" maxWidth="700">
            <Label text="4.Cài đặt" styleClass="section-title"/>
            <Separator/>
            
            <GridPane hgap="15" vgap="10">
                <Label text="Điểm đạt:" styleClass="review-label" 
                       GridPane.columnIndex="0" GridPane.rowIndex="0"/>
                <Label fx:id="passingScoreLabel" styleClass="review-value"
                       GridPane.columnIndex="1" GridPane.rowIndex="0"/>
                
                <Label text="Số lần làm tối đa:" styleClass="review-label" 
                       GridPane.columnIndex="0" GridPane.rowIndex="1"/>
                <Label text="Không giới hạn" styleClass="review-value"
                       GridPane.columnIndex="1" GridPane.rowIndex="1"/>
                
                <Label text="Hành vi:" styleClass="review-label" 
                       GridPane.columnIndex="0" GridPane.rowIndex="2" GridPane.valignment="TOP">
                    <padding><Insets top="5"/></padding>
                </Label>
                <Label fx:id="behaviorSettingsLabel" styleClass="review-value" wrapText="true"
                       GridPane.columnIndex="1" GridPane.rowIndex="2"/>
                
                <Label text="Giám sát:" styleClass="review-label" 
                       GridPane.columnIndex="0" GridPane.rowIndex="3"/>
                <Label fx:id="monitoringLevelLabel" styleClass="review-value"
                       GridPane.columnIndex="1" GridPane.rowIndex="3"/>
            </GridPane>
        </VBox>
        
        <!-- Section 5: Classes -->
        <VBox spacing="10" styleClass="review-section" maxWidth="700">
            <Label text="5.Lớp học" styleClass="section-title"/>
            <Separator/>
            
            <HBox spacing="10">
                <Label text="Số lớp đã gán:" styleClass="review-label"/>
                <Label fx:id="assignedClassesLabel" styleClass="review-value-highlight"/>
            </HBox>
            
            <Label text="Danh sách lớp học:" styleClass="review-label"/>
            <TextArea fx:id="assignedClassesArea" 
                      editable="false" 
                      wrapText="true" 
                      prefRowCount="4"
                      styleClass="review-textarea"/>
        </VBox>
        
        <!-- Publish Option -->
        <VBox spacing="10" styleClass="publish-section" maxWidth="700" alignment="CENTER">
            <CheckBox fx:id="publishImmediatelyCheck" 
                      text="Xuất bản đề thi ngay lập tức" 
                      selected="true"
                      styleClass="publish-checkbox"/>
            <Label text="(Nếu không chọn, đề thi sẽ ở trạng thái DRAFT)" 
                   styleClass="form-note"/>
        </VBox>
        
        <!-- Status Indicators -->
        <VBox spacing="10" alignment="CENTER">
            <ProgressIndicator fx:id="progressIndicator" visible="false"/>
            <Label fx:id="statusLabel" styleClass="info-label" visible="false"/>
            <Label fx:id="errorLabel" styleClass="error-label" wrapText="true" 
                   maxWidth="700" visible="false"/>
        </VBox>
        
    </VBox>
    
</ScrollPane>
