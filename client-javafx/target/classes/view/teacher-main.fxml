<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Text?>

<BorderPane xmlns="http://javafx.com/javafx/17" 
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.mstrust.client.teacher.controller.TeacherMainController"
            styleClass="root"
            stylesheets="@../css/teacher-styles.css">
    
    <!-- Top Bar -->
    <top>
        <HBox styleClass="top-bar" alignment="CENTER_LEFT" spacing="10">
            <padding>
                <Insets top="10" right="15" bottom="10" left="15"/>
            </padding>
            
            <Label text="MS.TrustTest - Teacher Dashboard" styleClass="app-title"/>
            
            <Region HBox.hgrow="ALWAYS"/>
            
            <Label fx:id="userLabel" text="Teacher Name" styleClass="user-label"/>
            <Label fx:id="roleLabel" text="[TEACHER]" styleClass="role-badge"/>
            <Button fx:id="logoutButton" text="ÄÄƒng xuáº¥t" styleClass="logout-button" 
                    onAction="#handleLogout"/>
        </HBox>
    </top>
    
    <!-- Main Content -->
    <center>
        <SplitPane dividerPositions="1" styleClass="main-split">
            
            <!-- Left Sidebar - Navigation Menu with ScrollPane -->
            <ScrollPane fitToWidth="true" hbarPolicy="NEVER" vbarPolicy="AS_NEEDED" prefWidth="250" maxWidth="300"
                        style="-fx-background: #263238; -fx-background-color: #263238;">
            <VBox styleClass="sidebar" spacing="8" prefWidth="250" maxWidth="300"
                  style="-fx-background-color: #263238;">
                <padding>
                    <Insets top="15" right="10" bottom="15" left="10"/>
                </padding>
                
                <Label text="MENU CHÃNH" styleClass="menu-header"/>
                <Separator/>
                
                <!-- Question Bank Menu Item -->
                <Button fx:id="questionBankButton" 
                        text="NgÃ¢n hÃ ng CÃ¢u há»i" 
                        styleClass="menu-item"
                        onAction="#handleQuestionBankClick"
                        maxWidth="Infinity"
                        contentDisplay="LEFT"
                        graphicTextGap="8">
                    <graphic>
                        <Label text="ðŸ“š" styleClass="menu-icon"/>
                    </graphic>
                    <VBox.margin>
                        <Insets top="5"/>
                    </VBox.margin>
                </Button>
                
                <!-- Subject Management Menu Item -->
                <Button fx:id="subjectManagementButton" 
                        text="Quáº£n lÃ½ MÃ´n há»c" 
                        styleClass="menu-item"
                        onAction="#handleSubjectManagementClick"
                        maxWidth="Infinity"
                        contentDisplay="LEFT"
                        graphicTextGap="8">
                    <graphic>
                        <Label text="ðŸ“–" styleClass="menu-icon"/>
                    </graphic>
                </Button>
                
                <!-- Exam Management Menu Item -->
                <Button fx:id="examManagementButton" 
                        text="Quáº£n lÃ½ Äá» thi" 
                        styleClass="menu-item"
                        onAction="#handleExamManagementClick"
                        maxWidth="Infinity"
                        contentDisplay="LEFT"
                        graphicTextGap="8">
                    <graphic>
                        <Label text="ðŸ“" styleClass="menu-icon"/>
                    </graphic>
                </Button>
                
                <!-- Grading Menu Item -->
                <Button fx:id="gradingButton" 
                        text="Cháº¥m bÃ i" 
                        styleClass="menu-item"
                        onAction="#handleGradingClick"
                        maxWidth="Infinity"
                        contentDisplay="LEFT"
                        graphicTextGap="8">
                    <graphic>
                        <Label text="âœï¸" styleClass="menu-icon"/>
                    </graphic>
                </Button>
                
                <!-- Monitoring Menu Item -->
                <Button fx:id="monitoringButton" 
                        text="GiÃ¡m sÃ¡t Thi" 
                        styleClass="menu-item"
                        onAction="#handleMonitoringClick"
                        maxWidth="Infinity"
                        contentDisplay="LEFT"
                        graphicTextGap="8">
                    <graphic>
                        <Label text="ðŸ“Š" styleClass="menu-icon"/>
                    </graphic>
                </Button>
                
                <!-- Admin Section -->
                <VBox fx:id="adminMenuSection" visible="false" managed="false" spacing="8">
                    <VBox.margin>
                        <Insets top="10"/>
                    </VBox.margin>
                    
                    <Label text="QUáº¢N TRá»Š" styleClass="menu-header">
                        <VBox.margin>
                            <Insets top="5"/>
                        </VBox.margin>
                    </Label>
                    <Separator/>
                    
                    <Button fx:id="adminDashboardButton"
                            text="Dashboard" 
                            styleClass="menu-item"
                            onAction="#handleAdminDashboardClick"
                            maxWidth="Infinity"
                            contentDisplay="LEFT"
                            graphicTextGap="8">
                        <VBox.margin>
                            <Insets top="5"/>
                        </VBox.margin>
                    </Button>
                    
                    <Button fx:id="userManagementButton" 
                            text="Quáº£n lÃ½ NgÆ°á»i dÃ¹ng" 
                            styleClass="menu-item"
                            onAction="#handleUserManagementClick"
                            maxWidth="Infinity"
                            contentDisplay="LEFT"
                            graphicTextGap="8">
                        <graphic>
                            <Label text="ðŸ‘¥" styleClass="menu-icon"/>
                        </graphic>
                        <VBox.margin>
                            <Insets top="5"/>
                        </VBox.margin>
                    </Button>
                    
                    <Button fx:id="organizationButton" 
                            text="Quáº£n lÃ½ Tá»• chá»©c" 
                            styleClass="menu-item"
                            onAction="#handleOrganizationClick"
                            maxWidth="Infinity"
                            contentDisplay="LEFT"
                            graphicTextGap="8">
                        <graphic>
                            <Label text="ðŸ«" styleClass="menu-icon"/>
                        </graphic>
                    </Button>
                    
                    <Button fx:id="systemConfigButton" 
                            text="Cáº¥u hÃ¬nh Há»‡ thá»‘ng" 
                            styleClass="menu-item"
                            onAction="#handleSystemConfigClick"
                            maxWidth="Infinity"
                            contentDisplay="LEFT"
                            graphicTextGap="8">
                        <graphic>
                            <Label text="âš™ï¸" styleClass="menu-icon"/>
                        </graphic>
                    </Button>
                    
                    <Button fx:id="reportsButton" 
                            text="BÃ¡o cÃ¡o" 
                            styleClass="menu-item"
                            onAction="#handleReportsClick"
                            maxWidth="Infinity"
                            contentDisplay="LEFT"
                            graphicTextGap="8">
                    </Button>
                </VBox>
                
                <Region VBox.vgrow="ALWAYS"/>
                
                <!-- Help & Info -->
                <Label text="Há»– TRá»¢" styleClass="menu-header">
                    <VBox.margin>
                        <Insets top="10"/>
                    </VBox.margin>
                </Label>
                <Separator/>
                
                <Button fx:id="helpButton"
                        text="Trá»£ giÃºp" 
                        styleClass="menu-item-help" 
                        onAction="#handleHelpClick" 
                        maxWidth="Infinity"
                        contentDisplay="LEFT"
                        graphicTextGap="8">
                    <VBox.margin>
                        <Insets top="5"/>
                    </VBox.margin>
                </Button>
            </VBox>
            </ScrollPane>
            
            <!-- Right Content Area with ScrollPane -->
            <ScrollPane fitToWidth="true" fitToHeight="true" hbarPolicy="AS_NEEDED" vbarPolicy="AS_NEEDED" style="-fx-background-color: white;">
            <StackPane fx:id="contentArea" styleClass="content-area" minHeight="400">
                <VBox alignment="CENTER" spacing="20">
                    <Label text="ChÃ o má»«ng Ä‘áº¿n vá»›i Teacher Dashboard!" 
                           styleClass="welcome-title"/>
                    <Text text="Vui lÃ²ng chá»n má»™t chá»©c nÄƒng tá»« menu bÃªn trÃ¡i Ä‘á»ƒ báº¯t Ä‘áº§u."
                          styleClass="welcome-text"
                          wrappingWidth="400"/>
                </VBox>
            </StackPane>
            </ScrollPane>
            
        </SplitPane>
    </center>
    
    <!-- Bottom Status Bar -->
    <bottom>
        <HBox styleClass="status-bar" alignment="CENTER_LEFT" spacing="15" minHeight="35" prefHeight="35" maxHeight="35">
            <padding>
                <Insets top="5" right="15" bottom="5" left="15"/>
            </padding>
            
            <Label text="â—" styleClass="status-indicator-online"/>
            <Label fx:id="connectionStatus" text="ÄÃ£ káº¿t ná»‘i" styleClass="status-text"/>
            
            <Separator orientation="VERTICAL"/>
            
            <Label text="Äá»“ng bá»™ láº§n cuá»‘i:" styleClass="status-text"/>
            <Label fx:id="lastSyncTime" text="21:00:00" styleClass="status-text"/>
            
            <Region HBox.hgrow="ALWAYS"/>
            
            <Label fx:id="versionLabel" text="v1.0.0" styleClass="version-text"/>
        </HBox>
    </bottom>
    
</BorderPane>
